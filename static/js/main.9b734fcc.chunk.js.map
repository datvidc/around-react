{"version":3,"sources":["components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/PopupWithForm.js","components/ImagePopup.js","utils/api.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/App.js","serviceWorker.js","index.js","images/Vector.svg"],"names":["Header","className","src","Vector","alt","CurrentUserContext","React","createContext","Card","props","currentUser","useContext","isOwn","card","owner","_id","isLiked","likes","some","i","handleLike","likeClicked","onLike","key","index","id","onClick","onDelete","onImgClick","link","name","length","Main","onAvatarClick","avatar","onEditProfile","about","onAddPlaceClick","cards","map","onCardClick","onCardDelete","onCardLike","Footer","PopupWithForm","isOpenClass","isOpen","closeItAll","type","onSubmit","heading","children","buttonText","ImagePopup","onClose","api","url","options","this","_startUrl","_header","_headerinfo","headers","userUrl","concat","_makeRequests","updateMe","fetch","method","body","JSON","stringify","then","res","ok","json","catch","console","log","newPic","Promise","reject","status","cardID","killUrl","addUrl","disLikeUrl","likeUrl","authorization","EditProfilePopup","useEffect","setName","setDescription","useState","description","e","preventDefault","onUpdateUser","value","onChange","target","minLength","maxLength","required","pattern","EditAvatarPopup","setavatarUrl","avatarUrl","avatarValue","useRef","onUpdateAvatar","current","ref","placeholder","AddPlacePopup","placeName","setPlaceName","setUrl","isAddPopOpen","closeAllPopups","onAddPlace","App","handleCardClick","setState","selectedCard","handleUpdateAvatar","handleUpdateUser","valueArr","handleEditAvatarClick","isEditPicOpen","handleEditProfileClick","isChangePopOpen","handleAddPlaceClick","handleEditUser","updateUser","result","handleEditAvatar","updateAvatar","isDeletePopOpen","isImagePopOpen","handleCardLike","state","likeButton","newCards","handleDeleteCard","deleteCard","filter","c","handleAddPlaceSubmit","addCard","getUser","err","getInitialCards","initialCards","forEach","push","Provider","Component","Boolean","window","location","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","error","message","module","exports"],"mappings":"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","file":"static/js/main.9b734fcc.chunk.js","sourcesContent":["import React from 'react';\nimport Vector from '../images/Vector.svg';\n\nfunction Header() {\n  return (\n  <header className=\"header\">\n    <img className=\"header__logo\" src={Vector} alt=\"Around the US\" />\n  </header>\n  );\n}\nexport default Header;\n","import React from 'react';\n\nexport const CurrentUserContext = React.createContext();\n\n","import React from 'react';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nfunction Card(props) {\n  const currentUser = React.useContext(CurrentUserContext);\n  const isOwn = props.card.owner._id === currentUser._id;\n  const isLiked = props.card.likes.some(i => i._id === currentUser._id);\n  \n  function handleClick() {\n  props.onImgClick(props.card);\n}\n\n  function handleLike() {\n    let likeClicked = !isLiked;\n    props.onLike(props.card, likeClicked);\n  }\n  function handleDelete() {\n    props.onDelete(props.card);\n  }\n\nreturn(\n\n    <li key={props.index} className=\"elements__element\">\n     { isOwn ? <button id=\"elements__trash \" className=\"elements__trash\" onClick={handleDelete} /> : \"\"} \n      <img className=\"elements__image\" onClick={handleClick} src={props.card.link} alt={props.card.name} />\n      <div className=\"elements__photo-bottom \">\n        <p className=\"elements__text \"> {props.card.name} </p>\n      {isLiked ? <button  className=\"elements__heart elements__heart_clicked\" onClick={handleLike}></button> : <button className=\"elements__heart\" onClick={handleLike}></button> }\n        <p className=\"elements__heart_likes \"> {props.card.likes.length}</p>\n      </div>\n    </li>\n\n);\n}\n\nexport default Card;\n","import React from 'react';\nimport Card from \"./Card.js\";\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nfunction Main(props) {\n\n  \n  const currentUser = React.useContext(CurrentUserContext);\n\n  \n\n  return (\n    <main>\n    <section className=\"profile\">\n      <div className=\"profile__avatar-overlay\" onClick={props.onAvatarClick}>\n        <img src={currentUser.avatar} alt={currentUser.name} className=\"profile__avatar\" />\n        <div className=\"profile__avatar-hover\" />\n      </div>\n      <div className=\"profile__text\">\n        <div className=\"profile__namebox\">\n          <p className=\"profile__name\"> {currentUser.name} </p>\n          <button className=\"profile__edit\" onClick={props.onEditProfile} />\n        </div>\n        <p className=\"profile__title\"> {currentUser.about} </p>\n      </div>\n      <button className=\"profile__add\" onClick={props.onAddPlaceClick}> </button>\n    </section>\n    <section className=\"elements\">\n      <ul className=\"elements__list\">\n        {props.cards.map((card, index) => (\n          <Card key={index} card={card} onImgClick={props.onCardClick} onDelete={props.onCardDelete} onLike={props.onCardLike}/>\n        ))}\n      </ul>\n    </section>\n  </main>\n  );\n}\n\nexport default Main;\n","import React from 'react';\n\nfunction Footer() {\n  return (\n    <footer className=\"footer \">\n      <p className=\"footer__copyright \">© 2020 No madic </p>\n    </footer>\n  );\n}\n\nexport default Footer;\n","import React from 'react';\n\nfunction PopupWithForm (props) {\n  const isOpenClass = props.isOpen ? \"popup_visible\" : \"\";\n\n/*\nneed:\nprops.isOpen (is popup open)\nprops.name (name of className)\nprops.heading (popup heading)\nprops.children (actual form)\nprops.buttonText (save button text)\nprops.closeItAll (close all popups):\nprops.onSubmit \n */\n\n  return(\n\n\n\n  <div className={`popup popup_type_${props.name} ${isOpenClass}`}>\n    <div className=\"popup__container\">\n      <button onClick={props.closeItAll} type=\"submit\" className=\"popup__close\"> </button>\n      <form className=\"popup__edit-form\" onSubmit={props.onSubmit}>\n        <h3 className=\"popup__heading\"> {props.heading} </h3>\n          {props.children}\n        <button  type=\"submit\" className=\"popup__save\"> {props.buttonText} </button>\n      </form>\n    </div>\n  </div>\n  );\n\n\n\n}\n\nexport default PopupWithForm;\n","import React from 'react';\n\nfunction ImagePopup(props) {\n  const isOpenClass = props.card ? \"popup_visible\" : \"\";\n \n  return (\n\n    <div className={`popup popup__img ${isOpenClass}`} >\n      <div className=\"popup__card popup_image\">\n        <button type=\"submit\" onClick={props.onClose} className=\"popup__close popup__closeimg\"> </button>\n        <img src={props.card && props.card.link} alt={props.card.name} className=\"popup__image popImg\" />\n        <p className=\"popup__imgtext\">{props.card.name} </p>\n      </div>\n    </div>\n\n  )\n}\n\nexport default ImagePopup;\n\n","class Api {\n  constructor(url, options) {\n    this._startUrl = url;\n    this._header = options;\n    this._headerinfo = options.headers;\n  }\n\n  getUser() {\n    const userUrl = this._startUrl.concat(\"group-1/users/me\");\n    return this._makeRequests(userUrl);\n  }\n\n  updateUser(name, about) {\n    const updateMe = this._startUrl.concat(\"/group-1/users/me\");\n    return fetch(updateMe, {\n        method: \"PATCH\",\n        headers: this._headerinfo,\n        body: JSON.stringify({\n          name: name,\n          about: about\n        })\n      })\n      .then(res => {\n        if (res.ok) {\n          return res.json();\n        }\n      }).catch(res => {\n        console.log(res);\n      })\n  }\n\n  updateAvatar(link) {\n    const newPic = this._startUrl.concat(\"/group-1/users/me/avatar\");\n    return fetch(newPic, {\n        method: \"PATCH\",\n        headers: this._headerinfo,\n        body: JSON.stringify({\n          avatar: link\n        })\n      })\n      .then(res => {\n        if (res.ok) {\n          return res.json();\n        }\n      }).catch(res => {\n        console.log(res);\n      })\n  }\n\n\n\n  _makeRequests(url) {\n    return fetch(url, this._header)\n      .then(res => {\n        if (res.ok) {\n          return res.json();\n        } else {\n          return Promise.reject(`ERROR: ${res.status}`);\n        }\n      })\n  }\n\n  deleteCard(cardID) {\n    const killUrl = this._startUrl.concat(\"/group-1/cards/\" + cardID);\n\n    return fetch(killUrl, {\n        method: \"DELETE\",\n        headers: this._headerinfo,\n      })\n      .then(res => {\n        if (res.ok) {\n\n          return res.json();\n        }\n      }).catch(res => {\n        console.log(res);\n      })\n      // call it like this>\n      /* api.deleteCard(\"5f1203c38b2c57001f1475ca\"); */\n  }\n\n  addCard(name, link) {\n    const addUrl = this._startUrl.concat(\"/group-1/cards\");\n    return fetch(addUrl, {\n        method: \"POST\",\n        headers: this._headerinfo,\n        body: JSON.stringify({\n          name: name,\n          link: link\n        })\n\n      })\n      .then(res => {\n        if (res.ok) {\n          return res.json();\n        }\n      }).catch(res => {\n        console.log(res);\n\n      })\n\n    // call it like this>\n    /*   api.addCard(\"jerry\", \"https://pictures.s3.yandex.net/frontend-developer/functions/dog-3.jpg\")\n    .catch((res) => {\n      console.log(res);\n    }); */\n  }\n\n  likeButton(card, isLiked) {\n    if (!isLiked) {\n      const likeUrl = this._startUrl.concat(\"/group-1/cards/likes/\" + card._id);\n    return fetch(likeUrl, {\n        method: \"PUT\",\n        headers: this._headerinfo\n      })\n      .then(res => {\n        if (res.ok) {\n          return res.json();\n        }\n      }).catch(res => {\n        console.log(res);\n\n      })\n    } else {\n      const disLikeUrl = this._startUrl.concat(\"/group-1/cards/likes/\" + card._id);\n      return fetch(disLikeUrl, {\n          method: \"DELETE\",\n          headers: this._headerinfo\n        })\n        .then(res => {\n          if (res.ok) {\n            return res.json();\n  \n          }\n        }).catch(res => {\n          console.log(res);\n        })\n    }\n  }\n\n  likeCard(cardID) {\n    const likeUrl = this._startUrl.concat(\"/group-1/cards/likes/\" + cardID);\n    fetch(likeUrl, {\n        method: \"PUT\",\n        headers: this._headerinfo\n      })\n      .then(res => {\n        if (res.ok) {}\n      }).catch(res => {\n        console.log(res);\n\n      })\n      //call it like> api.likeCard(cardID);\n  }\n\n  disLike(cardID) {\n    const disLikeUrl = this._startUrl.concat(\"/group-1/cards/likes/\" + cardID);\n    fetch(disLikeUrl, {\n        method: \"DELETE\",\n        headers: this._headerinfo\n      })\n      .then(res => {\n        if (res.ok) {\n\n        }\n      }).catch(res => {\n        console.log(res);\n\n      })\n      //call it like> api.disLike(cardID);\n  }\n\n\n  getInitialCards() {\n    return fetch(\"https://around.nomoreparties.co/v1/group-1/cards\", this._header)\n      .then(res => {\n        if (res.ok) {\n          return res.json();\n        } else {\n          return Promise.reject(`Error: ${res.status}`);\n        }\n      })\n\n\n  }\n}\nconst api = new Api('https://around.nomoreparties.co/v1/', {\n  headers: {\n    authorization: \"3aa990c2-b590-4bfb-9403-af52e9b89792\",\n    \"Content-Type\": \"application/json\"\n\n  }\n});\n\nexport default api;\n","import React from 'react';\nimport PopupWithForm from \"./PopupWithForm.js\";\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\n\nfunction EditProfilePopup(props) {\n    const currentUser = React.useContext(CurrentUserContext);\n    React.useEffect(() => {\n        setName(currentUser.name);\n        setDescription(currentUser.about);\n      }, [currentUser]);\n    const [name, setName] = React.useState(currentUser.name);\n    const [description, setDescription] = React.useState(currentUser.about);\n\n    function handleNameChange(e) {\n        setName(e.target.value);\n    }\n\n    function handleDescChange(e) {\n        setDescription(e.target.value);\n        \n    }\n\n    function handleEditFormSubmit(e) {\n        e.preventDefault();\n        props.onUpdateUser(name, description);\n        props.onClose();\n    }\n \n    return (\n\n        <PopupWithForm name=\"changetext\" isOpen={props.isOpen} heading=\"Edit profile\" buttonText=\"Save\" closeItAll={props.onClose} onSubmit={handleEditFormSubmit} >\n        <label className=\"popup__label-group\">\n          <input value={name || \"\"} onChange={handleNameChange} id=\"form-name\" type=\"text\" minLength={2} maxLength={40} required pattern=\"[A-Za-z -]{2,40}\" className=\"popup__edit popup__name popup_head\" name=\"ProfileName\" />\n          <span id=\"form-name--error\" className=\"popup__edit_error popup__name-error\" />\n        </label>\n        <label className=\"popup__label-group\">\n          <input value={description || \"\"} onChange={handleDescChange} id=\"form-status\" type=\"text\" minLength={2} maxLength={200} required  className=\"popup__edit popup__title popup_detail\" name=\"profileTitle\" />\n          <span id=\"form-status--error\" className=\"popup__edit_error popup__title-error\" />\n        </label>\n      </PopupWithForm>\n    )\n}\n\n\nexport default EditProfilePopup;","import React from 'react';\nimport PopupWithForm from \"./PopupWithForm.js\";\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nfunction EditAvatarPopup(props) {\n\n     // use the context after import. CurrentUserContext\n     const currentUser = React.useContext(CurrentUserContext);\n     React.useEffect(() => {\n        setavatarUrl(currentUser.avatar);\n      }, [currentUser]);\n    const [avatarUrl, setavatarUrl] = React.useState(currentUser.avatar);\n\n    //Introducing Ref of avatarUrl...\n    const avatarValue = React.useRef();\n\n\n    function handleSubmit(e) {\n        e.preventDefault();\n        props.onUpdateAvatar(avatarValue.current.value);\n\n        avatarValue.current.value = null;\n        props.onClose();\n\n    }\n\n    return (\n\n        <PopupWithForm name=\"edit-picture\" isOpen={props.isOpen} heading=\"Change profile picture\" buttonText=\"Yes\" closeItAll={props.onClose} onSubmit={handleSubmit} >\n\t\t\t\t<label className=\"popup__label-group\">\n\t\t\t\t  <input ref={avatarValue} id=\"user-link\" type=\"url\" placeholder={avatarUrl} className=\"popup__edit_invalid popup__edit popup__url popup_detail \" name=\"imgUrl\" required />\n\t\t\t\t\t<span id=\"user-link--error\" className=\"popup__error-input popup__url_error\">Please enter a URL.</span>\n\t\t\t\t</label>\n\t\t</PopupWithForm>\n    )\n\n\n}\n\nexport default EditAvatarPopup;","import React from 'react';\nimport PopupWithForm from './PopupWithForm.js';\n\n\nfunction AddPlacePopup(props) {\n\n\tconst [placeName, setPlaceName] = React.useState(\"Name of place\");\n\tconst [url, setUrl] = React.useState(\"Link to image\");\n\t\n\tfunction handlePlaceChange(e) {\n\t\tsetPlaceName(e.target.value);\n\t}\n\n\tfunction handleUrlChange(e) {\n\t\tsetUrl(e.target.value);\n\t}\n\n\tfunction onAddPlaceSubmit (e) {\n\t\te.preventDefault();\n\t\tprops.onAddPlace(placeName, url);\n\t\tprops.closeAllPopups();\n\t}\n\n\treturn (\n\n\t\t<PopupWithForm name=\"addcard\" isOpen={props.isAddPopOpen} heading=\"New place\" buttonText=\"Create\" closeItAll={props.closeAllPopups} onSubmit={onAddPlaceSubmit}>\n\t\t\t<label className=\"popup__label-group \">\n\t\t\t\t<input id=\"form-title\" type=\"text\" minLength={2} maxLength={40} placeholder=\"Title\" className=\"popup__edit_invalid popup__edit popup__place popup_head\" name=\"placename\" required onChange={handlePlaceChange}/>\n\t\t\t\t<span id=\"form-title--error\" className=\"popup__error-input popup__place-error\"> Please fill out this field.</span>\n\t\t\t</label>\n\t\t\t<label className=\"popup__label-group\">\n\t\t\t\t<input id=\"form-link\" type=\"url\" placeholder=\"Image link\" className=\"popup__edit_invalid popup__edit popup__url popup_detail\" name=\"popupurl\" required onChange={handleUrlChange}/>\n\t\t\t\t<span id=\"form-link--error\" className=\"popup__error-input popup__url_error\">Please enter a web address.</span>\n\t\t\t</label>\n\t\t</PopupWithForm>\n\t)\n}\n\nexport default AddPlacePopup;","import React from 'react';\nimport Header from './Header.js';\nimport Main from './Main.js';\nimport Footer from './Footer.js';\nimport PopupWithForm from './PopupWithForm.js';\nimport ImagePopup from './ImagePopup.js';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\nimport api from '../utils/api';\nimport EditProfilePopup from './EditProfilePopup.js';\nimport EditAvatarPopup from './EditAvatarPopup.js';\nimport AddPlacePopup from './AddPlacePopup.js';\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isEditPicOpen: false,\n      isDeletePopOpen: false,\n      isChangePopOpen: false,\n      isAddPopOpen: false,\n      isImagePopOpen: false,\n      selectedCard: \"\",\n      currentUser: {}, //name: \"Lacking Gravitas\", about: \"SPaceSHip\", avatar: defaultAvatarPicture\n      cards: []\n    };\n  }\n\n\n\n\n  handleCardClick = (value) => {\n    this.setState({ selectedCard: value });\n\n  }\n\n  handleUpdateAvatar = (link) => {\n    this.setState({ currentUser: link })\n  }\n\n  handleUpdateUser = (valueArr) => {\n    this.setState({ currentUser: valueArr })\n  }\n\n  handleEditAvatarClick = () => {\n    this.setState({ isEditPicOpen: true });\n  }\n  handleEditProfileClick = () => {\n    this.setState({ isChangePopOpen: true });\n  }\n\n  handleAddPlaceClick = () => {\n    this.setState({ isAddPopOpen: true });\n  }\n\n  handleEditUser = (name, about) => {\n    api.updateUser(name, about).then((result) => {\n      this.handleUpdateUser(result);\n    })\n  }\n  handleEditAvatar = (url) => {\n    api.updateAvatar(url).then((res) => {\n      this.handleUpdateUser(res);\n    })\n\n  }\n\n\n\n  closeAllPopups = () => {\n    this.setState({\n      isEditPicOpen: false,\n      isDeletePopOpen: false,\n      isChangePopOpen: false,\n      isAddPopOpen: false,\n      isImagePopOpen: false,\n      selectedCard: \"\"\n    })\n  }\n\n  componentDidMount() {\n    api.getUser()\n      .then(res => {\n        this.handleUpdateUser(res);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n    //now for generating cards\n    api.getInitialCards()\n      .then(res => {\n        let initialCards = [];\n        res.forEach((card) => {\n          initialCards.push(card);\n        });\n        this.setState({ cards: initialCards });\n      })\n\n  }\n\n  handleCardLike = (card) => {\n    const isLiked = card.likes.some(i => i._id === this.state.currentUser._id);\n    api.likeButton(card, isLiked).then((res) => {\n      const newCards = this.state.cards.map((card) =>\n        res._id === card._id ? res : card);\n  \tthis.setState({cards : newCards});\n    })\n  }\n\n\thandleDeleteCard = (card) => {\n    //Delete button should not be there if this is not true, but...anyway checking if card is owned by current user\n    const cardOwner = card.owner._id === this.state.currentUser._id;\n\n    if (cardOwner) {\n      api.deleteCard(card._id).then(() => {\n        const newCards = this.state.cards.filter(c => c._id !== card._id);\n        this.setState({cards : newCards});\n      })\n    }\n  }\n\n\thandleAddPlaceSubmit = (name, link) => {\n\t\tapi.addCard(name, link).then((res) => { \n\t\t\tthis.setState({ cards: [...this.state.cards, res] });\n\t\t})\n\t}\n\n  render() {\n    return (\n\n      <div >\n        <CurrentUserContext.Provider value={this.state.currentUser}>\n          <Header />\n          <Main onCardClick={this.handleCardClick} onAvatarClick={this.handleEditAvatarClick} onEditProfile={this.handleEditProfileClick} onAddPlaceClick={this.handleAddPlaceClick} cards={this.state.cards} onCardLike={this.handleCardLike} onCardDelete={this.handleDeleteCard}   />\n          <Footer />\n\n          <EditAvatarPopup isOpen={this.state.isEditPicOpen} onClose={this.closeAllPopups} onUpdateAvatar={this.handleEditAvatar} />\n\n          <PopupWithForm name=\"delete-confirm\" isOpen={this.state.isDeletePopOpen} heading=\"Are you sure ?\" buttonText=\"Yes\" closeItAll={this.closeAllPopups} >\n          </PopupWithForm>\n\n          <EditProfilePopup isOpen={this.state.isChangePopOpen} onClose={this.closeAllPopups} onUpdateUser={this.handleEditUser} />\n\n\t\t\t\t\t<AddPlacePopup isAddPopOpen={this.state.isAddPopOpen} closeAllPopups={this.closeAllPopups} onAddPlace={this.handleAddPlaceSubmit} />\n          \n            \n\n          <ImagePopup card={this.state.selectedCard} onClose={this.closeAllPopups}>\n          </ImagePopup>\n        </CurrentUserContext.Provider>\n      </div>\n    );\n  }\n}\nexport default App;","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App.js';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","module.exports = __webpack_public_path__ + \"static/media/Vector.782b5eb4.svg\";"],"sourceRoot":""}