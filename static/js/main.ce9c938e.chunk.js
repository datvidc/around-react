(this.webpackJsonpproject10=this.webpackJsonpproject10||[]).push([[0],[,,,,,,function(e,t,a){e.exports=a.p+"static/media/Vector.782b5eb4.svg"},function(e,t,a){e.exports=a.p+"static/media/DC-img.a8f51591.png"},,,function(e,t,a){e.exports=a(17)},,,,,function(e,t,a){},function(e,t,a){e.exports=a.p+"static/media/image.0d10d530.png"},function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(5),l=a.n(o),c=(a(15),a(2)),i=a(3),s=a(9),p=a(8),u=a(6),m=a.n(u);var d=function(){return r.a.createElement("header",{className:"header"},r.a.createElement("img",{className:"header__logo",src:m.a,alt:"Around the US"}))},_=a(1),h=(a(16),new(function(){function e(t,a){Object(c.a)(this,e),this._startUrl=t,this._header=a,this._headerinfo=a.headers}return Object(i.a)(e,[{key:"getUser",value:function(){var e=this._startUrl.concat("group-1/users/me");return this._makeRequests(e)}},{key:"updateUser",value:function(e,t){var a=this._startUrl.concat("/group-1/users/me");return fetch(a,{method:"PATCH",headers:this._headerinfo,body:JSON.stringify({name:e,about:t})}).then((function(e){if(e.ok)return e.json()})).catch((function(e){console.log(e)}))}},{key:"updateAvatar",value:function(e){var t=this._startUrl.concat("/group-1/users/me/avatar");return fetch(t,{method:"PATCH",headers:this._headerinfo,body:JSON.stringify({avatar:e})}).then((function(e){if(e.ok)return e.json()})).catch((function(e){console.log(e)}))}},{key:"_makeRequests",value:function(e){return fetch(e,this._header).then((function(e){return e.ok?e.json():Promise.reject("ERROR: ".concat(e.status))}))}},{key:"deleteCard",value:function(e){var t=this._startUrl.concat("/group-1/cards/"+e);return fetch(t,{method:"DELETE",headers:this._headerinfo}).then((function(t){t.ok&&document.getElementById(e).parentElement.remove()})).catch((function(e){console.log(e)}))}},{key:"addCard",value:function(e,t){var a=this._startUrl.concat("/group-1/cards");return fetch(a,{method:"POST",headers:this._headerinfo,body:JSON.stringify({name:e,link:t})}).then((function(e){if(e.ok)return e.json()})).catch((function(e){console.log(e)}))}},{key:"likeCard",value:function(e){var t=this._startUrl.concat("/group-1/cards/likes/"+e);fetch(t,{method:"PUT",headers:this._headerinfo}).then((function(e){e.ok})).catch((function(e){console.log(e)}))}},{key:"disLike",value:function(e){var t=this._startUrl.concat("/group-1/cards/likes/"+e);fetch(t,{method:"DELETE",headers:this._headerinfo}).then((function(e){e.ok})).catch((function(e){console.log(e)}))}},{key:"getInitialCards",value:function(){return fetch("https://around.nomoreparties.co/v1/group-1/cards",this._header).then((function(e){return e.ok?e.json():Promise.reject("Error: ".concat(e.status))}))}}]),e}())("https://around.nomoreparties.co/v1/",{headers:{authorization:"3aa990c2-b590-4bfb-9403-af52e9b89792","Content-Type":"application/json"}})),f=a(7),E=a.n(f);var g=function(e){return r.a.createElement("li",{key:e.index,className:"elements__element"},r.a.createElement("button",{id:"elements__trash ",className:"elements__trash "}),r.a.createElement("img",{className:"elements__image",onClick:function(){e.onImgClick(e.card)},src:e.card.link,alt:e.card.name}),r.a.createElement("div",{className:"elements__photo-bottom "},r.a.createElement("p",{className:"elements__text "}," ",e.card.name," "),r.a.createElement("button",{className:"elements__heart "}),r.a.createElement("p",{className:"elements__heart_likes "}," ",e.card.likes.length)))};var v=function(e){var t=Object(n.useState)("Lacking Gravitas"),a=Object(_.a)(t,2),o=a[0],l=a[1],c=Object(n.useState)("Space Ship"),i=Object(_.a)(c,2),s=i[0],p=i[1],u=Object(n.useState)(E.a),m=Object(_.a)(u,2),d=m[0],f=m[1],v=Object(n.useState)([]),k=Object(_.a)(v,2),b=k[0],N=k[1];return r.a.useEffect((function(){h.getInitialCards().then((function(e){var t=[];e.forEach((function(e){t.push(e)})),N(t)}))}),[]),r.a.useEffect((function(){h.getUser().then((function(e){l(e.name),p(e.about),f(e.avatar)})).catch((function(e){console.log(e)}))}),[]),r.a.createElement("main",null,r.a.createElement("section",{className:"profile"},r.a.createElement("div",{className:"profile__avatar-overlay",onClick:e.onAvatarClick},r.a.createElement("img",{src:d,alt:o,className:"profile__avatar"}),r.a.createElement("div",{className:"profile__avatar-hover"})),r.a.createElement("div",{className:"profile__text"},r.a.createElement("div",{className:"profile__namebox"},r.a.createElement("p",{className:"profile__name"}," ",o," "),r.a.createElement("button",{className:"profile__edit",onClick:e.onEditProfile})),r.a.createElement("p",{className:"profile__title"}," ",s," ")),r.a.createElement("button",{className:"profile__add",onClick:e.onAddPlaceClick}," ")),r.a.createElement("section",{className:"elements"},r.a.createElement("ul",{className:"elements__list"},b.map((function(t,a){return r.a.createElement(g,{key:a,card:t,onImgClick:e.onCardClick})})))))};var k=function(){return r.a.createElement("footer",{className:"footer "},r.a.createElement("p",{className:"footer__copyright "},"\xa9 2020 Around The U.S."))};var b=function(e){var t=e.isOpen?"popup_visible":"";return r.a.createElement("div",{className:"popup popup_type_".concat(e.name," ").concat(t)},r.a.createElement("div",{className:"popup__container"},r.a.createElement("button",{onClick:e.closeItAll,type:"submit",className:"popup__close"}," "),r.a.createElement("form",{className:"popup__edit-form"},r.a.createElement("h3",{className:"popup__heading"}," ",e.heading," "),e.children,r.a.createElement("button",{type:"submit",className:"popup__save"}," ",e.buttonText," "))))};var N=function(e){var t=e.card?"popup_visible":"";return r.a.createElement("div",{className:"popup popup__img ".concat(t)},r.a.createElement("div",{className:"popup__card popup_image"},r.a.createElement("button",{type:"submit",onClick:e.onClose,className:"popup__close popup__closeimg"}," "),r.a.createElement("img",{src:e.card.link,alt:e.card.name,className:"popup__image popImg"}),r.a.createElement("p",{className:"popup__imgtext"},e.card.name," ")))},C=function(e){Object(s.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).handleCardClick=function(e){n.setState({selectedCard:e})},n.handleEditAvatarClick=function(){n.setState({isEditPicOpen:!0})},n.handleEditProfileClick=function(){n.setState({isChangePopOpen:!0})},n.handleAddPlaceClick=function(){n.setState({isAddPopOpen:!0})},n.closeAllPopups=function(){n.setState({isEditPicOpen:!1,isDeletePopOpen:!1,isChangePopOpen:!1,isAddPopOpen:!1,isImagePopOpen:!1,selectedCard:""})},n.state={isEditPicOpen:!1,isDeletePopOpen:!1,isChangePopOpen:!1,isAddPopOpen:!1,isImagePopOpen:!1,selectedCard:""},n}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(d,null),r.a.createElement(v,{onCardClick:this.handleCardClick,onAvatarClick:this.handleEditAvatarClick,onEditProfile:this.handleEditProfileClick,onAddPlaceClick:this.handleAddPlaceClick}),r.a.createElement(k,null),"/*   beginning of Popups */",r.a.createElement(b,{name:"edit-picture",isOpen:this.state.isEditPicOpen,heading:"Change profile picture",buttonText:"Yes",closeItAll:this.closeAllPopups},r.a.createElement("label",{className:"popup__label-group"},r.a.createElement("input",{id:"user-link",type:"url",placeholder:"Image link",className:"popup__edit_invalid popup__edit popup__url popup_detail ",name:"imgUrl",required:!0}),r.a.createElement("span",{id:"user-link--error",className:"popup__error-input popup__url_error"},"Please enter a URL."))),r.a.createElement(b,{name:"delete-confirm",isOpen:this.state.isDeletePopOpen,heading:"Are you sure ?",buttonText:"Yes",closeItAll:this.closeAllPopups}),r.a.createElement(b,{name:"changetext",isOpen:this.state.isChangePopOpen,heading:"Edit profile",buttonText:"Save",closeItAll:this.closeAllPopups},r.a.createElement("label",{className:"popup__label-group"},r.a.createElement("input",{id:"form-name",type:"text",minLength:2,maxLength:40,required:!0,pattern:"[A-Za-z -]{2,40}",placeholder:"Name",className:"popup__edit popup__name popup_head",name:"ProfileName"}),r.a.createElement("span",{id:"form-name--error",className:"popup__edit_error popup__name-error"})),r.a.createElement("label",{className:"popup__label-group"},r.a.createElement("input",{id:"form-status",type:"text",minLength:2,maxLength:200,required:!0,placeholder:"About",className:"popup__edit popup__title popup_detail",name:"profileTitle"}),r.a.createElement("span",{id:"form-status--error",className:"popup__edit_error popup__title-error"}))),r.a.createElement(b,{name:"addcard",isOpen:this.state.isAddPopOpen,heading:"New place",buttonText:"Create",closeItAll:this.closeAllPopups},r.a.createElement("label",{className:"popup__label-group "},r.a.createElement("input",{id:"form-title",type:"text",minLength:2,maxLength:40,placeholder:"Title",className:"popup__edit_invalid popup__edit popup__place popup_head",name:"placename",required:!0}),r.a.createElement("span",{id:"form-title--error",className:"popup__error-input popup__place-error"}," Please fill out this field.")),r.a.createElement("label",{className:"popup__label-group"},r.a.createElement("input",{id:"form-link",type:"url",placeholder:"Image link",className:"popup__edit_invalid popup__edit popup__url popup_detail",name:"popupurl",required:!0}),r.a.createElement("span",{id:"form-link--error",className:"popup__error-input popup__url_error"},"Please enter a web address."))),r.a.createElement(N,{card:this.state.selectedCard,onClose:this.closeAllPopups}))}}]),a}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(C,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[10,1,2]]]);
//# sourceMappingURL=main.ce9c938e.chunk.js.map